(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{369:function(t,e,a){"use strict";a.r(e);var i=a(32),n=Object(i.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"administration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#administration","aria-hidden":"true"}},[t._v("#")]),t._v(" Administration")]),t._v(" "),a("p",[t._v("This section contains information that will be useful for server\nadministrators that want to automatize server configuration or do some\nunusual things which are not available in the WEB UI.")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#os-detection"}},[t._v("OS detection")])]),a("li",[a("a",{attrs:{href:"#best-practices-for-virtualization-templates"}},[t._v("Best practices for virtualization templates")]),a("ul",[a("li",[a("a",{attrs:{href:"#create-a-minimal-installation-for-templating"}},[t._v("Create a minimal installation for templating")])]),a("li",[a("a",{attrs:{href:"#manage-templates"}},[t._v("Manage templates")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"os-detection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-detection","aria-hidden":"true"}},[t._v("#")]),t._v(" OS detection")]),t._v(" "),a("p",[t._v("To get information about the current CloudLinux OS edition, you can run the following command:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("cldetect --detect-edition\n")])])]),a("p",[t._v("A response for CloudLinux OS Solo will be like follows:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("CloudLinux OS Solo \n")])])]),a("h2",{attrs:{id:"best-practices-for-virtualization-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#best-practices-for-virtualization-templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Best practices for virtualization templates")]),t._v(" "),a("p",[t._v("While we recommend and support using of the usual "),a("RouterLink",{attrs:{to:"/installation/"}},[t._v("CloudLinux Solo")]),t._v(" installation process,\nit may require more time than is necessary for Virtual Private Server (VPS) and Virtual Machine (VM) hosts.")],1),t._v(" "),a("p",[t._v("Instead, you can provision VPS or VM systems with a templated environment.")]),t._v(" "),a("h3",{attrs:{id:"create-a-minimal-installation-for-templating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-minimal-installation-for-templating","aria-hidden":"true"}},[t._v("#")]),t._v(" Create a minimal installation for templating")]),t._v(" "),a("p",[t._v("Before you begin, you need the activation key that you will use for CloudLinux OS Solo installation.\nFollow the "),a("RouterLink",{attrs:{to:"/installation/"}},[t._v("installation")]),t._v(" guide and create the minimal working CloudLinus OS Solo environment.\nUse activation key to register your instance and get full access to repositories and run the\n"),a("code",[t._v("yum update")]),t._v(" command to fetch recent changes.")],1),t._v(" "),a("h3",{attrs:{id:"manage-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manage-templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Manage templates")]),t._v(" "),a("h4",{attrs:{id:"provisioning"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provisioning","aria-hidden":"true"}},[t._v("#")]),t._v(" Provisioning")]),t._v(" "),a("p",[t._v("We recommend using tools like "),a("code",[t._v("ansible")]),t._v(" to add packages and tune server configuration.\nYou are free to install any control panels, tune settings and configure the default CloudLinux tools.")]),t._v(" "),a("h4",{attrs:{id:"finalize-your-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#finalize-your-template","aria-hidden":"true"}},[t._v("#")]),t._v(" Finalize your template")]),t._v(" "),a("p",[t._v("If you install the control panel in your customized template,\nplease run following commands once installation is done.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("/usr/bin/package_reinstaller.py\n")])])]),a("p",[t._v("Commands above will fix hooks and control panel plugins after installation.")]),t._v(" "),a("p",[t._v("Before you save your customized template, it is required to remove license files:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("rm -f /etc/sysconfig/rhn/jwt.token*\nrm -f /etc/sysconfig/rhn/systemid*\nrm -f /etc/sysconfig/rhn/cl-rollout*\n")])])]),a("h4",{attrs:{id:"updating-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Updating templates")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),a("p",[t._v("We strongly recommend recreating templates at least once a month to keep images\nfresh and up-to-date with the recent CloudLinux OS Solo repositories.")])]),a("p",[t._v("There are two ways of templates update:")]),t._v(" "),a("ol",[a("li",[t._v("Recreate them from scratch each time (recommended).")]),t._v(" "),a("li",[t._v("Boot customized template, register instance again and run the "),a("code",[t._v("yum update")]),t._v(" command.\nDon't forget to remove license keys from the template as described\nin "),a("RouterLink",{attrs:{to:"/administration/#finalize-your-template"}},[t._v("Finalize your template")]),t._v(".")],1)]),t._v(" "),a("h4",{attrs:{id:"next-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-steps","aria-hidden":"true"}},[t._v("#")]),t._v(" Next steps")]),t._v(" "),a("p",[t._v("Save the modified environment as the template and publish it for your clients.")])])},[],!1,null,null,null);e.default=n.exports}}]);